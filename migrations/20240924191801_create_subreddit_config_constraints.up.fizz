sql("alter table only subreddit_config alter column subreddit_config_id set default gen_random_uuid()")

add_index("subreddit_config", "subreddit_id",  {"unique": true})

add_foreign_key("subreddit_config", "subreddit_id", {"subreddits": ["subreddit_id"]}, {
    "on_delete": "cascade",
    "on_update": "cascade",
})

add_foreign_key("subreddit_config", "admin_config", {"users": ["user_id"]}, {
    "on_delete": "cascade",
    "on_update": "cascade",
})